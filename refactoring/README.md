# λ¦¬ν©ν† λ§λ μΈν„°νμ΄μ¤ μ²λ¦¬ λ„κµ¬ (RFT - Refactored Tools)

μ΄ λ””λ ‰ν† λ¦¬λ” κΈ°μ΅΄μ κ°λ³„ μ¤ν¬λ¦½νΈλ“¤μ„ λ¦¬ν©ν† λ§ν•μ—¬ ν†µν•©λ λ„κµ¬λ΅ μ¬κµ¬μ„±ν• κ²°κ³Όμ…λ‹λ‹¤.

## π“ νμΌ κµ¬μ΅°

### μ£Όμ” λ¨λ“
- **`rft_ex_sqlite.py`** - Excel νμΌμ„ SQLite λ°μ΄ν„°λ² μ΄μ¤λ΅ λ³€ν™ (κΈ°μ΅΄ ex_sqlite.py κΈ°λ¥)
- **`rft_interface_processor.py`** - μΈν„°νμ΄μ¤ λ°μ΄ν„° μ²λ¦¬ λ° λ§¤μΉ­ (κΈ°μ΅΄ iflist03a.py κΈ°λ¥)
- **`rft_yaml_processor.py`** - YAML μƒμ„± λ° νμΌ μΉν™ μ²λ¦¬ (κΈ°μ΅΄ string_replacer.py κΈ°λ¥)
- **`rft_interface_reader.py`** - μΈν„°νμ΄μ¤ μ •λ³΄ μ½κΈ° λ° BW νμ‹± (κΈ°μ΅΄ test_iflist.py κΈ°λ¥)

### ν…μ¤νΈ λ° ν†µν•©
- **`test_rft_modules.py`** - λ¨λ“  λ¨λ“μ λ‹¨μ„ ν…μ¤νΈ
- **`rft_main.py`** - ν†µν•© μ‹¤ν–‰ νμΌ (λ©”λ‰΄ λ°©μ‹)

### λ¬Έμ„
- **`README.md`** - μ΄ νμΌ

## π€ λΉ λ¥Έ μ‹μ‘

### 1. ν†µν•© λ„κµ¬ μ‹¤ν–‰
```bash
python rft_main.py
```

### 2. μ „μ²΄ νμ΄ν”„λΌμΈ μ‹¤ν–‰ (κ¶μ¥)
1. ν†µν•© λ„κµ¬ μ‹¤ν–‰ ν›„ λ©”λ‰΄μ—μ„ `7. μ „μ²΄ νμ΄ν”„λΌμΈ μ‹¤ν–‰` μ„ νƒ
2. Excel νμΌ κ²½λ΅ μ…λ ¥
3. μλ™μΌλ΅ λ‹¤μ λ‹¨κ³„λ“¤μ΄ μ‹¤ν–‰λ©λ‹λ‹¤:
   - Excel β†’ SQLite λ³€ν™
   - μΈν„°νμ΄μ¤ λ°μ΄ν„° μ²λ¦¬ (LY/LZ β†” LH/VO λ§¤μΉ­)
   - YAML κ·μΉ™ μƒμ„±

### 3. κ°λ³„ λ¨λ“ μ‹¤ν–‰
κ° λ¨λ“μ„ κ°λ³„μ μΌλ΅ μ‹¤ν–‰ν•  μλ„ μμµλ‹λ‹¤:
```bash
python rft_ex_sqlite.py           # Excel to SQLite λ³€ν™
python rft_interface_processor.py # μΈν„°νμ΄μ¤ μ²λ¦¬
python rft_yaml_processor.py      # YAML μƒμ„±/μ‹¤ν–‰
python rft_interface_reader.py    # μΈν„°νμ΄μ¤ μ½κΈ°
```

## π“‹ μ£Όμ” κΈ°λ¥

### 1. Excel to SQLite λ³€ν™ (`rft_ex_sqlite.py`)
- Excel νμΌμ„ SQLite λ°μ΄ν„°λ² μ΄μ¤λ΅ λ³€ν™
- ν…μ¤νΈμ© λ°μ΄ν„°λ² μ΄μ¤ μƒμ„± κΈ°λ¥
- λ°μ΄ν„° κ²€μ¦ λ° μ¤λ¥ μ²λ¦¬

### 2. μΈν„°νμ΄μ¤ λ°μ΄ν„° μ²λ¦¬ (`rft_interface_processor.py`)
- SQLiteμ—μ„ LY/LZ μ‹μ¤ν… ν•„ν„°λ§
- LH/VO μ‹μ¤ν…κ³Ό μλ™ λ§¤μΉ­
- νμΌ κ²½λ΅ μƒμ„± λ° μ΅΄μ¬ μ—¬λ¶€ ν™•μΈ
- CSV ν•νƒλ΅ κ²°κ³Ό μ¶λ ¥

### 3. YAML μ²λ¦¬ (`rft_yaml_processor.py`)
- Excel/CSVμ—μ„ YAML κ·μΉ™ μƒμ„±
- νμΌ λ³µμ‚¬ λ° λ‚΄μ© μΉν™ μ‹¤ν–‰
- μ •κ·μ‹ κΈ°λ° μ¤λ§νΈ μΉν™
- μ‹¤ν–‰ λ΅κ·Έ λ° κ²°κ³Ό κΈ°λ΅

### 4. μΈν„°νμ΄μ¤ μ •λ³΄ μ½κΈ° (`rft_interface_reader.py`)
- νΉλ³„ν• ν•μ‹μ Excelμ—μ„ μΈν„°νμ΄μ¤ μ •λ³΄ μ¶”μ¶
- TIBCO BW .process νμΌ νμ‹±
- INSERT μΏΌλ¦¬ λ° νλΌλ―Έν„° μ¶”μ¶
- CSV λ‚΄λ³΄λ‚΄κΈ° μ§€μ›

## π§ ν…μ¤νΈ

### μ „μ²΄ ν…μ¤νΈ μ‹¤ν–‰
```bash
python test_rft_modules.py
```

### ν†µν•© λ„κµ¬μ—μ„ ν…μ¤νΈ
```bash
python rft_main.py
# λ©”λ‰΄μ—μ„ 8. ν…μ¤νΈ μ‹¤ν–‰ μ„ νƒ
```

### ν…μ¤νΈ ν•­λ©
- Excel to SQLite λ³€ν™ ν…μ¤νΈ
- ν…μ¤νΈ λ°μ΄ν„°λ² μ΄μ¤ μƒμ„± ν…μ¤νΈ
- μΈν„°νμ΄μ¤ μ²λ¦¬ ν…μ¤νΈ
- YAML μƒμ„± λ° μ‹¤ν–‰ ν…μ¤νΈ
- μΈν„°νμ΄μ¤ μ½κΈ° ν…μ¤νΈ

## π“ μ²λ¦¬ νλ¦„

```
Excel νμΌ
    β†“
SQLite DB (iflist.sqlite)
    β†“
μΈν„°νμ΄μ¤ μ²λ¦¬ (LY/LZ β†” LH/VO λ§¤μΉ­)
    β†“
CSV μ¶λ ¥ (rft_interface_processed.csv)
    β†“
YAML κ·μΉ™ μƒμ„± (rft_rules.yaml)
    β†“
νμΌ λ³µμ‚¬ λ° μΉν™ μ‹¤ν–‰
```

## π”§ μ„¤μ • λ° μ»¤μ¤ν„°λ§μ΄μ§•

### κΈ°λ³Έ νμΌλ… λ³€κ²½
`rft_main.py`μ—μ„ λ‹¤μ λ³€μλ“¤μ„ μμ •:
```python
self.default_db = "iflist.sqlite"
self.default_output_csv = "rft_interface_processed.csv"
self.default_yaml = "rft_rules.yaml"
```

### λ””λ²„κ·Έ λ¨λ“
κ° λ¨λ“μ—μ„ λ””λ²„κ·Έ λ¨λ“λ¥Ό ν™μ„±ν™”ν•  μ μμµλ‹λ‹¤:
```python
# μƒμ„Έν• λ΅κ·Έ μ¶λ ¥
processor = YAMLProcessor(debug_mode=True)
```

## β οΈ μ£Όμμ‚¬ν•­

1. **νμΌ λ°±μ—…**: YAML μ‹¤ν–‰ μ‹ μ‹¤μ  νμΌμ΄ λ³µμ‚¬λκ³  μμ •λ©λ‹λ‹¤. μ¤‘μ”ν• νμΌμ€ λ―Έλ¦¬ λ°±μ—…ν•μ„Έμ”.

2. **κ²½λ΅ ν™•μΈ**: νμΌ κ²½λ΅κ°€ μ¬λ°”λ¥Έμ§€ ν™•μΈν•κ³ , ν•„μ”ν• λ””λ ‰ν† λ¦¬κ°€ μ΅΄μ¬ν•λ”μ§€ ν™•μΈν•μ„Έμ”.

3. **ν…μ¤νΈ μ°μ„ **: μƒλ΅μ΄ λ°μ΄ν„°λ΅ μ‘μ—…ν•κΈ° μ „μ— ν…μ¤νΈ κΈ°λ¥μ„ ν™μ©ν•μ—¬ λ™μ‘μ„ ν™•μΈν•μ„Έμ”.

4. **CSV vs Excel**: ν…μ¤νΈ νΈμμ„±μ„ μ„ν•΄ CSV ν•νƒλ΅ μ¶λ ¥ν•λ„λ΅ κΈ°λ³Έ μ„¤μ •λμ–΄ μμµλ‹λ‹¤.

## π” λ¬Έμ  ν•΄κ²°

### λ¨λ“ import μ¤λ¥
λ¨λ“  νμΌμ΄ κ°™μ€ λ””λ ‰ν† λ¦¬μ— μλ”μ§€ ν™•μΈν•μ„Έμ”.

### λ°μ΄ν„°λ² μ΄μ¤ νμΌ μ—†μ
λ¨Όμ € "Excel to SQLite λ³€ν™" κΈ°λ¥μ„ μ‹¤ν–‰ν•μ„Έμ”.

### νμΌ κ²½λ΅ μ¤λ¥
μ λ€ κ²½λ΅λ¥Ό μ‚¬μ©ν•κ±°λ‚, ν„μ¬ λ””λ ‰ν† λ¦¬μ—μ„ μƒλ€ κ²½λ΅κ°€ μ¬λ°”λ¥Έμ§€ ν™•μΈν•μ„Έμ”.

### ν…μ¤νΈ μ‹¤ν¨
μ„μ‹ λ””λ ‰ν† λ¦¬ κ¶ν•μ΄λ‚ ν•„μ”ν• λΌμ΄λΈλ¬λ¦¬ μ„¤μΉλ¥Ό ν™•μΈν•μ„Έμ”.

## π“ κ°μ„ μ‚¬ν•­

κΈ°μ΅΄ μ½”λ“ λ€λΉ„ κ°μ„ λ μ :
- β… λ¨λ“ν™”λ κµ¬μ΅°
- β… ν¬κ΄„μ μΈ ν…μ¤νΈ μ§€μ›
- β… ν†µν•©λ μ‚¬μ©μ μΈν„°νμ΄μ¤
- β… μ¤λ¥ μ²λ¦¬ κ°•ν™”
- β… λ΅κΉ… λ° λ””λ²„κΉ… μ§€μ›
- β… κ³µν†µ μ ‘λ‘μ‚¬ (rft_)λ΅ νμΌλ… ν†µμΌ
- β… CSV κΈ°λ° ν…μ¤νΈ μ§€μ›

## π¤ κΈ°μ—¬ λ°©λ²•

1. μƒλ΅μ΄ κΈ°λ¥μ΄λ‚ λ²„κ·Έ μμ • μ‹ ν•΄λ‹Ήν•λ” ν…μ¤νΈλ¥Ό μ¶”κ°€ν•μ„Έμ”.
2. μ½”λ“ λ³€κ²½ μ‹ `test_rft_modules.py`λ΅ μ „μ²΄ ν…μ¤νΈλ¥Ό μ‹¤ν–‰ν•μ„Έμ”.
3. μƒλ΅μ΄ λ¨λ“ μ¶”κ°€ μ‹ `rft_` μ ‘λ‘μ‚¬λ¥Ό μ‚¬μ©ν•μ„Έμ”.

---

**λ²„μ „**: 1.0  
**μ‘μ„±μΌ**: 2024λ…„  
**κΈ°μ΅΄ μ½”λ“**: iflist03a.py, string_replacer.py, test_iflist.py λ“±μ„ λ¦¬ν©ν† λ§